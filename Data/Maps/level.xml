<World AutoAdjustBrightness="false">
  <StartSector Value="StartRoom"/>
  <StartPoint Value="0,0,-4.5"/>
  <StartFacing Value="0,0,1"/>

  <Material id="Brick" DiffuseTexture="Art/oildrum_Diffuse.png" SpecularColor="0.25, 0.25, 0.25" SpecularPower="50"/>
  <Material id="RoughBrick" DiffuseTexture="Art/oildrum_Diffuse.png" NormalTexture="Art/oildrum_Normal.png" SpecularColor="0.25, 0.25, 0.25" SpecularPower="50" EmissiveColor="0, 0, 0"/>

  <Material id="BumpyGrid" DiffuseTexture="Art/grid.png" DiffuseColor="1,0,0" SpecularColor="0.1,0.1,0.02" ReflectionColor="0.15,0.15,0.15"/>

  <Material id="Grid" DiffuseTexture="Art/grid.png" NormalTexture="Art/cells.png" DiffuseColor="1,1,1" SpecularColor="1,1,1" SpecularPower="50"/>
  
  <Material id="WhiteLight" EmissiveColor="1,1,1" DiffuseColor="0,0,0" SpecularColor="0,0,0"/>

  <Material id="Yellow" DiffuseColor="1,1,0.1"   SpecularColor="0,0,0"/>
  <Material id="Red"    DiffuseColor="1,0.1,0.1" SpecularColor="0,0,0"/>
  <Material id="Green"  DiffuseColor="0.1,1,0.1" SpecularColor="0,0,0"/>
  <Material id="Blue"   DiffuseColor="0.1,0.1,1" SpecularColor="0,0,0"/>

  <Material id="Mirror" DiffuseColor="0,0,0" SpecularColor="0,0,0" ReflectionColor="0.9,1,0.9"/>
  <Material id="BumpyMirror" NormalTexture="Art/simplenormal.png" SpecularColor="0,0,0" ReflectionColor="0.9,1,0.9"/>

  <Material id="Ruby" DiffuseColor="0,0,0" SpecularColor="1,0.6,0.6" SpecularPower="1" RefractionIndex="0.90" RefractionColor="1,1,1" Absorbance="0.0,0.002,0.002"/>

  <Material id="Ruby2" DiffuseColor="0,0,0" SpecularColor="0,0,0" RefractionIndex="0.9" RefractionColor="1,1,1" Absorbance="0.0,0.002,0.002"/>

  <Material id="SoapBubble" DiffuseColor="0.1,0.02,0.1" SpecularColor="0.5,0.1,0.5" SpecularPower="5" RefractionIndex="0.75" RefractionColor="1,1,1"/>
  <Material id="BumpySoapBubble" NormalTexture="Art/cells.png" DiffuseColor="0.1,0.02,0.1" SpecularColor="0.5,0.1,0.5" SpecularPower="5" RefractionIndex="0.95" RefractionColor="1,1,1"/>

  <Material id="SkyboxTop" DiffuseTexture="Art/Skybox/frozendusk_top.jpg" DiffuseColor="1.0, 1.0, 1.0"/>
  <Material id="SkyboxFront" DiffuseTexture="Art/Skybox/frozendusk_front.jpg" DiffuseColor="1.0, 1.0, 1.0"/>
  <Material id="SkyboxBack" DiffuseTexture="Art/Skybox/frozendusk_back.jpg" DiffuseColor="1.0, 1.0, 1.0"/>
  <Material id="SkyboxLeft" DiffuseTexture="Art/Skybox/frozendusk_left.jpg" DiffuseColor="1.0, 1.0, 1.0"/>
  <Material id="SkyboxRight" DiffuseTexture="Art/Skybox/frozendusk_right.jpg" DiffuseColor="1.0, 1.0, 1.0"/>

  <Model id="IcoSphere" FileName="Art/Models/icosphere.xmd"/>
  <Model id="Ship" FileName="Art/Models/ship.xmd"/>
  
  <!--===============================================================
  StartRoom
  ================================================================-->
  <Sector FogColor="0,0,1" FogFactor="0.05" FogPlane="0,1,1,0" id="StartRoom" Dimensions="40,10,10" CastShadows="false" AmbientLight="0.1, 0.1, 0.1">
    <Sphere Position="4,5,0" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="4,5,0" Color="1,1,0.8" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>
    
    <Sphere Position="-4,5,0" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="-4,5,0" Color="0.8,1,1" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>
    
    <SectorPlane UAxis="0,0,-1" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="HallwayToDarkRoom" ConnectToSectorPlane="1" ConnectToSectorOffset="15,0"/>
    <SectorPlane UAxis="0,0, 1" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="HallwayToDarkRoom" ConnectToSectorPlane="0" ConnectToSectorOffset="15,0"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Hallway" ConnectToSectorPlane="5" ConnectToSectorOffset="0,1.5"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
  </Sector>

  <!--===============================================================
  HallwayToDarkRoom
  ================================================================-->
  <Sector FogColor="0,1,0" FogFactor="0.014" id="HallwayToDarkRoom" Dimensions="10,10,40" CastShadows="false" AmbientLight="0.1, 0.1, 0.1">

    <Sphere Position="0,3.5,-15" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="0,3.5,-15" Color="1,1,0.8" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>

    <Sphere Position="0,3.5,0" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="0,3.5, 0" Color="1,0.8,1" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>

    <Sphere Position="0,3.5,15" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="0,3.5,15" Color="0.8,1,1" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>

    <SectorPlane UAxis="0,0,-1" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="StartRoom" ConnectToSectorPlane="1" ConnectToSectorOffset="15,0"/>
    <SectorPlane UAxis="0,0, 1" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="StartRoom" ConnectToSectorPlane="0" ConnectToSectorOffset="15,0"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSectorz="DarkRoom" ConnectToSectorPlane="4"/>
  </Sector>

  <!--===============================================================
  DarkRoom
  ================================================================-->
  <Sector FogColor="1,0,0" FogFactor="0.014" id="DarkRoom" Dimensions="40,10,40" CastShadows="false" AmbientLight="0.01, 0.01, 0.01">
    <SectorPlane UAxis="0,0,-1" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="0,0, 1" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="HallwayToDarkRoom" ConnectToSectorPlane="5"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
  </Sector>

  <!--===============================================================
  Hallway
  ================================================================-->
  <Sector FogColor="0,1,1" FogFactor="0.014" id="Hallway" Dimensions="7,7,30" CastShadows="false" AmbientLight="0.1, 0.1, 0.1">

    <Sphere Position="0,3.5,8" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="0,3.5,8" Color="1,0.8,1" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>

    <Sphere Position="0,3.5,-8" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="0,3.5,-8" Color="0.8,1,1" AttenuationConstant="0.5" AttenuationDistanceSquared="0.01" ConeDirection="0,-1,0" ConeAngle="110" ConeAttenuationAngle="20" ConeFalloffFactor="2"/>

    <SectorPlane UAxis="0,0,-1" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="0,0, 1" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Outside" ConnectToSectorPlane="5" ConnectToSectorOffset="0, -5"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="StartRoom" ConnectToSectorPlane="4" ConnectToSectorOffset="0,-1.5"/>
  </Sector>

  <!--===============================================================
  Outside
  ================================================================-->
  <Sector FogColor="1,0,1" FogFactor="0.014" id="Outside" Dimensions="40,20,80" CastShadows="false" AmbientLight="0.2, 0.2, 0.2">

    <Sphere Position="-27,5,69" Radius="0.1" Material="WhiteLight" CastShadows="false"/>
    <PointLight Position="-27,5,69" Color="1,1,0.2" AttenuationConstant="1" AttenuationDistance="0.0025" />

    <!--
    <Box Position=" 1,-9, 1" Scale="3,2,2" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position=" 1,-7,-1" Scale="2,2,3" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position="-1,-5,-1" Scale="3,2,2" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position="-1,-3, 1" Scale="2,2,3" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position=" 1,-1, 1" Scale="3,2,2" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position=" 1, 1,-1" Scale="2,2,3" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position="-1, 3,-1" Scale="3,2,2" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position="-1, 5, 1" Scale="2,2,3" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position=" 1, 7, 1" Scale="3,2,2" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    <Box Position=" 1, 9,-1" Scale="2,2,3" Material="BumpyGrid" TextureScale="0.25,0.25" CastShadows="true"/>
    -->

    <Box Position="-19,-5,20" Scale="0.5,8,10" Material="Mirror" TextureScale="0.25,0.25" CastShadows="true"/>

    <Box Position="-19,-5,10" Scale="0.5,8,10" Material="BumpyMirror" TextureScale="1,1" CastShadows="true"/>

    <Sphere Position="0,-10,25" Radius="5" Material="SoapBubble" TextureScale="0.5,0.5" CastShadows="true"/>

    <Sphere Position="-5,-5,20" Radius="2" Material="SoapBubble" TextureScale="0.5,0.5" CastShadows="true"/>

    <Sphere Position="-7,0,-6" Radius="1.75" Material="SoapBubble" TextureScale="0.5,0.5" CastShadows="true"/>
    
    <Sphere Position="-8,-4,-10" Radius="1" Material="SoapBubble" TextureScale="0.5,0.5" CastShadows="true"/>

    <Sphere Position="3,-5,-15" Radius="1.5" Material="BumpySoapBubble" TextureScale="0.125,0.125" CastShadows="true"/>

    <Sphere Position="-5,-8,-18" Radius="1" Material="BumpySoapBubble" TextureScale="0.125,0.125" CastShadows="true"/>

    <ModelInstance ModelId="IcoSphere" MaterialOverride="Ruby" Position="-15,-7,-1"/>
    <ModelInstance ModelId="IcoSphere" MaterialOverride="Ruby" Position="1,-7,-1" Scale ="0.25"/>

    <ModelInstance ModelId="IcoSphere" MaterialOverride="Grid" Position="10,-3,0"/>
    <ModelInstance ModelId="IcoSphere" MaterialOverride="Mirror" Position="5,-1,20"/>
    <ModelInstance ModelId="IcoSphere" MaterialOverride="RoughBrick" Position="-12,-4,18"/>

    <ModelInstance ModelId="Ship" Position="8,-7,4" Scale ="0.025" Rotation="0,40,160"/>
    <ModelInstance ModelId="Ship" Position="8,-7,6" Scale ="0.05" Rotation="0,40,120"/>
    <ModelInstance ModelId="Ship" Position="8,-7,8" Scale ="0.1" Rotation="0,40,80"/>
    <ModelInstance ModelId="Ship" Position="8,-7,10" Scale ="0.2" Rotation="0,40,40"/>
    <ModelInstance ModelId="Ship" Position="8,-7,12" Scale ="0.3" Rotation="0,40,0"/>

    <SectorPlane UAxis="0,0,-1" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Skybox" ConnectToSectorPlane="1" ConnectToSetPosition="true" ConnectToPosition="0,0,0"/>
    <SectorPlane UAxis="0,0, 1" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Skybox" ConnectToSectorPlane="0" ConnectToSetPosition="true" ConnectToPosition="0,0,0"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Skybox" ConnectToSectorPlane="3" ConnectToSetPosition="true" ConnectToPosition="0,0,0"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25"/>

    <SectorPlane UAxis=" 1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Skybox" ConnectToSectorPlane="5" ConnectToSetPosition="true" ConnectToPosition="0,0,0"/>
    <SectorPlane UAxis="-1,0,0" Material="RoughBrick" TextureScale="0.25,0.25" ConnectToSector="Hallway" ConnectToSectorPlane="4" ConnectToSectorOffset="0, 5"/>
  </Sector>

  <!--===============================================================
  Skybox
  ================================================================-->
  <Sector FogColor="1,1,0" FogFactor="0.002" id="Skybox" Dimensions="512,512,512" CastShadows="false" AmbientLight="1,1,1">
    <SectorPlane UAxis="0,0, 1" Material="SkyboxRight" TextureScale="0.0019455252918288,0.0019455252918288" TextureOffset="0.5,0.5"/>
    <SectorPlane UAxis="0,0,-1" Material="SkyboxLeft" TextureScale="0.0019455252918288,0.0019455252918288" TextureOffset="0.5,0.5"/>

    <SectorPlane UAxis=" 1,0,0" Material="SkyboxTop" TextureScale="0.0019455252918288,0.0019455252918288" TextureOffset="0.5,0.5"/>
    <SectorPlane UAxis=" 1,0,0"/>

    <SectorPlane UAxis="-1,0,0" Material="SkyboxBack" TextureScale="0.0019455252918288,0.0019455252918288" TextureOffset="0.5,0.5"/>
    <SectorPlane UAxis=" 1,0,0" Material="SkyboxFront" TextureScale="0.0019455252918288,0.0019455252918288" TextureOffset="0.5,0.5"/>    
  </Sector>
  
</World>
